<div class="min-h-screen bg-gradient-to-br from-green-50 to-emerald-100 py-12 px-4">
  <div class="max-w-2xl mx-auto">
    <div class="bg-white rounded-3xl shadow-2xl p-8 md:p-12">
      <h2 class="text-4xl font-bold text-center text-gray-800 mb-10">
        üå± Upload New Product
      </h2>

      <form (ngSubmit)="uploadProduct()" class="space-y-8">
        <!-- Crop Name -->
        <div>
          <label class="block text-lg font-semibold text-gray-700 mb-2">Crop Name</label>
          <input [(ngModel)]="cropName" name="cropName" required
                 class="w-full px-5 py-4 border-2 border-gray-300 rounded-xl focus:border-green-500 focus:outline-none transition text-lg" 
                 placeholder="e.g. Red Onion, Basmati Rice">
        </div>

        <!-- Soil & Pesticides Row -->
        <div class="grid md:grid-cols-2 gap-6">
          <div>
            <label class="block text-lg font-semibold text-gray-700 mb-2">Soil Type</label>
            <input [(ngModel)]="soilType" name="soilType"
                   class="w-full px-5 py-4 border-2 border-gray-300 rounded-xl focus:border-green-500 focus:outline-none transition"
                   placeholder="e.g. Loamy, Clay">
          </div>
          <div>
            <label class="block text-lg font-semibold text-gray-700 mb-2">Pesticides Used</label>
            <input [(ngModel)]="pesticides" name="pesticides"
                   class="w-full px-5 py-4 border-2 border-gray-300 rounded-xl focus:border-green-500 focus:outline-none transition"
                   placeholder="e.g. None, Neem Oil">
          </div>
        </div>

        <!-- Harvest Date -->
        <div>
          <label class="block text-lg font-semibold text-gray-700 mb-2">Harvest Date</label>
          <input type="date" [(ngModel)]="harvestDate" name="harvestDate" [max]="today" required
                 class="w-full px-5 py-4 border-2 border-gray-300 rounded-xl focus:border-green-500 focus:outline-none transition text-lg">
        </div>

        <!-- GPS Location -->
        <div>
          <label class="block text-lg font-semibold text-gray-700 mb-2">GPS Location</label>
          <div class="flex gap-3">
            <input [(ngModel)]="gpsLocation" name="gpsLocation" readonly
                   class="flex-1 px-5 py-4 border-2 border-gray-300 rounded-xl bg-gray-50 text-lg"
                   placeholder="Auto-detected or manual">
            <button type="button" (click)="detectGPS()" [disabled]="loading"
                    class="px-6 py-4 bg-green-600 hover:bg-green-700 text-white font-bold rounded-xl transition shadow-lg whitespace-nowrap">
              üìç Detect GPS
            </button>
          </div>
        </div>

        <!-- Image Upload -->
        <div>
          <label class="block text-lg font-semibold text-gray-700 mb-2">Product Image</label>
          <input type="file" (change)="onFileSelected($event)" accept="image/*" required
                 class="block w-full text-lg text-gray-600 file:mr-4 file:py-4 file:px-6 file:rounded-xl file:border-0 file:bg-green-600 file:text-white file:font-bold hover:file:bg-green-700 cursor-pointer">
          
          <div *ngIf="previewUrl" class="mt-6 text-center">
            <img [src]="previewUrl" class="mx-auto max-h-80 rounded-2xl shadow-xl border-4 border-green-200">
            <p class="mt-3 text-green-600 font-semibold">Image ready for upload</p>
          </div>
        </div>

        <!-- Submit Button -->
        <button type="submit" [disabled]="loading || !imageFile"
                class="w-full py-6 bg-gradient-to-r from-green-600 to-emerald-700 hover:from-green-700 hover:to-emerald-800 text-white text-2xl font-bold rounded-2xl shadow-2xl transition transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed">
          {{ loading ? 'Uploading to Blockchain...' : 'Upload Product & Generate QR' }}
        </button>
      </form>

      <div class="mt-10 text-center text-gray-500">
        <p class="text-sm">Powered by FarmChainX ‚Ä¢ Transparent ‚Ä¢ Trusted ‚Ä¢ Immutable</p>
      </div>
    </div>
  </div>
</div>